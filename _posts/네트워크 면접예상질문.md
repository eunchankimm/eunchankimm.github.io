---
layout: post
title : "네트워크 면접예상질문"
category: "네트워크"
tag: [네트워크,전공]
---

## 네트워크 면접예상질문

#### OSI 7계층에 대해 설명

> 통신이 일어나는 과정을 7단계로 구분 하여 프로토콜의 표쥰적인 뼈대를 제공하기 위해 개발된 참조 모델입니다
>
> 7계층 부터 순차적으로 설명 해드리자면, 사용자 인터페이스 역할(ex) explorer)을 담당하는 표현계층 , 전송하는 데이터의 format을 결정하는 표현 계층 , 네트워크 상에서 호스트간 최초 연결과 통신 중 연결을 끊어지지 않게 해주는 세션 계층, 정보를 분할하고 상대방에게 도착하기전 다시 합치는 과정을 담당하는 전송 계층 , 논리 주소를 담당하고 packet의 경로를 결정하는 네트워크 계층 , 물리적 계층을 통한 신뢰성 제공을 해주는 데이터 링크 계층, 마지막으로 네트워크 통신을 위해 물리적인 표쥰을 정의 하는 물리 계층이 있습니다. 

```
OSI 7 Layer Model
- 국제 표준과 기구(ISO)가 1984년에 발표한 OSI 7 Layer는 통신이 일어나는 과정을 7단계로 구분하여 한 눈에 들어 올 수 있도록 보여준다.
- 컴퓨터 통신 구조의 모델과 앞으로 개발될 프로토콜의 표준적인 뼈대를 제공하기 위해서 개발된 참조 모델이다.
- 데이터의 흐름이 한 눈에 보인다.
- Trouble Shooting이 쉽다
- 계층을 7단계로 구분하고 각 층별로 표준화를 했기 때문에 여러 회사 장비를 사용해도 네트워크가 이상 없이 돌아간다.
- OSI 7 Layer에서 7개의 계층을 상위 계층과 하위 계층으로 나뉘어 진다.
  상위 계층 (7,6,5계층) , 하위 계층 (4,3,2,1계층)
  
1) 7계층 : Application Layer (응용 계층)
- 사용자 인터페이스를 담당하는 계층
  즉. 사용자들이 이용하는 네트워크 응용프로그램이라고 생각하면 된다. (internet explorer)
- 사용자와 가장 가까운 프로토콜을 정의
  HTTP(80) , FTP(20,21), Telnet(23), SMTP(25) , DNS(53), TFTP(69)
  
2) 6계층 : Presentation Layer (표현 계층)
- 전송하는 데이터의 Format(구성방식)을 결정하는 계층
- 다양한 데이터 Format을 일관되게 상호 변환하고 압축기능 및 암호화, 복호화 기능을 수행
  ASCll, EBCDIC, GIF , JPEG , AVI , MPEG 등
  
3) 5계층 : Session Layer (세션 계층)
- 네트워크상에서 호스트간에 최초 연결과 연결을 끊어지지 않게 유지 시켜주는 역할의 계층
  즉, 통신을 하는 두 host들 사이에 세션을 열고, 닫고, 관리하는 기능을 담당
  
  * 7계층 , 6계층 , 5계층을 통하여 data가 만들어 진다
  
4) 4계층 : Transport Layer (전송 계층)
- 정보를 분할하고, 상대방에게 도착하기 전 합치는 과정을 담당하는 계층 (단위 : Segment)
- 목적지 컴퓨터에서 발신지 컴퓨터 간의 통신에 있어 Error control(에러 제어)과 Flow control(흐름 제어)를 담당
- 전송 방식을 결정
  Port Number나 TCP/UDP 등
- Layer 4 Protocol : TCP/UDP
  TCP : 신뢰성 , 연결지향성 Protocol
  udp : 비신뢰성, 비연결지향성 Protocol
  
  * Connection-less : UDP
    연결을 유지하지 않고 전송하는 방식 (data의 손실을 신경쓰지 않는다)
  * Connection-ful : TCP
    연결을 유지하며 전송하는 방식
  * TCP의 경우 data를 상대방에게 보내기 전에 미리 연결을 하고 난 후에 data를 보낸다.
    UDP의 경우 data를 빨리 보내지만 손실이 일어날 경우가 있다.
    
5) 3계층 : Network Layer (네트워크 계층)
- Logical Address(IP, IPX)를 담당하고 packet(패킷)의 이동경로를 결정하는 계층
  Layer 3계층의 단위 : Packet
- 경로선택, Routing, 논리적인 주소(IP)를 정의 하는 계층
- Routing Protocoal을 이용하여 Best path(최적 경로)를 선택
- Network 장비 : Router

6) 2계층 : Data Link Layer (데이터링크 계층)
- 물리적 계층을 통한 데이터 전송에 신뢰성을 제공
  이러한 서비스를 위해 물리적 주소(MAC) 지정, 네트워크 토폴로지, 오류통지, 프레임의 순차적 전송, 흐름제어 등의 기능을 가지고 있다
송, 수신 측의 속도 차이를 해결하기 위한 흐름 제어 기능
프레임의 시작과 끝을 구분하는 프레임 동기화 기능
오류 검출, 회복을 위한 오류 제어 기능
프레임의 순차적 전송을 위한 순서 제어 기능

- 이 계층에서 Local Network에서 Frame을 안전하게 전송하는 것을 목적으로 한다. (단위 : Frame)
- 직접 연결되어 있지 않은 네트워크에 대해서는 상위 계층에서 오류 제어를 담당해야 한다
- Data Link 계층 장비 : Switch, Bridge

7) 1계층 : Physical Layer (물리 계층)
- 네트워크 통신을 위한 물리적인 표쥰을 정의하는 계층
- 두 컴퓨터 간에 전기적인, 기계적인 그리고 절차적인 연결을 정의하는 계층
  케이블 종류, 데이터 송수신 속도, 신호의 전기 전압 등
- Physical 계층 장비 : Hub , Repeater
```

#### 프로토콜(Protocol)이란 ?

> 호스트간의 데이터 송수신을 원활히 하기 위해 사용됩니다.
>
> 프로토콜은 통신에서 통신 규약 및 약속을 의미합니다 . 대표적으로 tcp 가 있습니다

**프로토콜의 기능**

- 세분화와 재합성
- 캡슐화
- 연결 제어, 오류 제어, 흐름 제어
- 동기화
- 순서 결정
- 주소 설정
- 다중화
- 전송 서비스

#### TCP와 UDP 차이

> TCP는 연결형 서비스를 지원하는 전송계층 프로토콜로 호스트간 신뢰성 있는 데이터 전달을 위해 3-way handshaking과 4-way handshaking을 해야하며 흐름제어와 혼잡제어를 제공해 줍니다 
>
> UDP는 비연결형 서비스를 지원하는 전송계층 프로토콜로 보내는 쪽으로 일방적으로 데이터를 전달합니다. 비신뢰성이라 hand shaking 같은 연결 설정이 없고, 빠릅니다



#### 3-way handshaking

> 1) 송신측에서 수신측으로 SYN의 Flag를 On 으로하고 , 세그먼트(TCP 패킷)에 일련 번호를 붙여 수신 상대방에게 보냅니다.
>
> 2) 수신측은 SYN데이터를 받고, ACK / SYN Flag가 설정된 패킷을 송신측에 보내고, 응답을 기다립니다.
>
> 3) 송신측은  ACK / SYN 패킷을 받고, 마지막으로 수신측으로 ACK를 보내면 연결이 이루어 지며, 데이터가 오갈 수 있게 됩니다.
>
> * Keepalive
>
>   TCP Keepalive는 setsocket()을 사용하여 소켓 옵션을 설정하면 사용 할 수 있는데,
>
>   지정된 시간 동안 연결이 유휴 상태가 되었 을때 keepalive 탐색 패킷을 보내 반응이 있으면 접속을 유지하며,  없을 시엔 접속을 끊습니다.
>
>   keepalive의 사용의 주 된 이유는 종단 시스템 중의 하나가 다운 될 때 한 쪽만 열린 연결 상태를 정리하기 위해 사용됩니다.



#### HTTP 프로토콜이란 ?

> http프로토콜은 웹 브라우저와 웹 서버 사이의 데이터 통신 규칙입니다
>
> 웹브라우저는 http 요청 형식에 따라 웹 서버에 데이터를 전송하며, 웹 서버는 보낸 데이터를 분석하여 요청 받은 일을 처리하여 응답합니다

http는 

1) 암호화 안된 방식으로 데이터를 주고 받음 : 데이터를 중간에 가로챌 수 있음

2) 통신하는 상대방의 신원을 확인하지 않음 : 상대방이 누군지 확인하지 않고 요청/응답을 보냄, 중간에 상대방인척하고 데이터를 가로챌 수 있음

https는 http에 데이터를 암호화해주는 ssl 프로토콜을 더한 것 입니다

HTTPS의 암호화 기법

> 어떤 정보를 암호화 된 정보로 바꾸는 것을 암호화, 암호화된 정보를 다시 원래 정보로 바꾸는 것을 복호화라고 합니다. 암호화하는데 쓰는 비밀번호 같은 것을 키라고 하는데, 암호활 할 때 쓰는 키와 복호화 할 때 쓰는 키를 같이 사용하는 것을 "공통키 암호화 방식" 이라고 합니다. 단순한 구조라 CPU를 적게 쓰고 빠르다는 장점이 있죠, 하지만 공통키를 누군가에게 빼앗기면 복호화를 할 수 있으므로 보안에 취약하다는 단점이 있습니다.
>
> 
>
> 그래서 등장한 것이 암호화와 복호화에 다른 키를 사용하는 "비대칭키(=공개키) 암호화 방식"입니다. 암호화 한 키를 빼앗겨도 해독을 할 수 없으니 좀 더 안전하다는 장점이 있죠, 하지만 공통키 방식에 비해 느리고 리소스 소비가 크다는 단점이 있습니다.
>
> 
>
> 두 암호화기법의 장점을 더한 것이, 공통키 방식과 비대칭키 방식을 같이 쓰면 됩니다. HTTPS에서 이 방법을 사용하는데, 자주 써야하는 메시지 암호화는 "공통키" 방식으로 암호화하고, 그 공통키는 비대칭키 방식으로 암호화해서 처음에만 사용합니다. 이렇게 되면 공통키는 비대칭키 방식으로 안전하게 보호하고, 메시지 전송은 공통키 방식으로 빠르게 할 수 있으니 두마리 토끼를 다 잡을 수 있게 됩니다.



#### Post 와 Get

> Post와 Get은 모두 클라이언트가 서버에 데이터를 전달한다는 공통점이 있지만, 
>
> Get의 경우 데이터값이 URL 뒤에 이어 붙고, POST는 데이터를 HTTP body에 넣어 전달합니다.
>
> 둘다 암호화는 되지않고, Post는 Get과 달리 브라우저에서 캐싱이 불가능하며, 반대로 get은 웹 크롤러가 접근 할 수있어 마음대로 실행 할 수 있다. 이와 같은 이유로 서버의 값이나 상태를 변경하는 경우에는 POST로 구현, GET은 단순 조회에만 이용하는 것이 좋습니다.

캐싱 : 이전에 검색하거나 계산된 데이터를 효과적으로 효과적으로 재사용 하는 방법으로 Ram과 같은 빠른 하드웨어에 저장됩니다

#### big endian, little endian이란 ?

>빅 엔디안은 메모리 시작 주소에 상위 바이트부터 기록되며 , 리틀 엔디안은 메모리 시작주소가 하위 바이트부터 기록됩니다.  네트워크 프로토콜은 기본적으로 빅 엔디안 표현입니다.



#### Control flow(흐름 제어)

> 호스트간의 데이터 처리를 효율적으로 하기 위한 기법입니다
>
> 수신측이 송신측보다 속도가 빠른것은 문제가 되지않지만, 수신 측 보다 송신 측이 속도가 더 빠르면 데이터 손실이 일어 날 수 있어,  송신측의 데이터 전송을 수신측에 맞추는 것이다.
>
> 



#### Congestion control(혼잡 제어)

> 송신측의 데이터 전달과 네트워크의 처리속도 차이를 해결하기 위한 기법입니다
>
> 라우터가 한쪽으로 데이터가 몰릴 경우 혼잡되어 데이터를 모두 처리할수 없을 때, 송신측의 데이터 전송 속도를 늦춘다

- Slow start

  윈도우 크기를 2배로 늘리다가, 혼잡 현상이 발생하면 창 크기를 1로 떨어트리고, 혼잡이 발생하기전 크기의 반까지는 2배로 계속 증가시키다가 그 이후부턴 1씩 증가

- Fast Recovery

  혼잡한 상태가 되면 반으로 줄인다음에 1씩 증가시키는 방식입니다

#### 슬라이딩 윈도우

> 수신 측에서 설정한 윈도우 크기만큼 송신측에서 동적으로 조절하여 제어하는 기법입니다. 이리하여 확인 응답없이 데이터를 전송할 수 있습니다. 송신 버퍼의 범위는 수신 측의 여유 버퍼 공간을 반영하여 동적으로 바뀜



####4-way handshaking

> ⓵ 클라이언트가 서버에 연결을 종료하겠다는 FIN flag를 전송한다.
>
> ⓶ 서버는 우선 확인 메시지를 보내고 자신의 통신이 끝날 때 까지 대기한다. TIME_WAIT상태다.
>
> ⓷ 통신이 종료된 서버가 연결이 종료되었다고 클라이언트에게 FIN flag를 전송한다.
>
> ⓸ 클라이언트는 서버에 확인했다는 메시지를 보낸다.



#### 로드 밸런싱(Load balancing)

>하나의 인터넷 서비스가 발생하는 트래픽이 많을 때 여러 대의 서버가 분산처리하여 서버의 로드율 증가, 부하량, 속도 저하등을 고려하여 적절히 분산처리하여 해결하는 방법입니다.
>
>- L4는 OSI Layer 3~4에 속하는 IP주소 및 TCP/UDP 포트 정보를 참조하여 스위칭하는 장비이고
>- L7은 OSI Layer 3~7에 속하는 IP주소, TCP/UDP 포트 정보 및 패킷 내용까지 참조하여 스위칭해주는 장비이다.
>
>
>- L4는 TCP/UDP 포트 이용하여 트래픽 분산처리(로드밸런싱)하고
>- L7는 HTTP의 URL, FTP 쿠키 정보 및 바이러스 패턴을 분석하여 보안에 더 유리하고 정교한 로드밸런싱이 가능하다. (Traffic filter, Security, VPN 가능)
>
>L4 스위치
>
>서버와 통신하고자 하는 클라이언트는 VIP(Virtual IP)를 향해 트래픽을 전송하고 L4스위치가 이 트래픽을 받아 적절한 서버에 로드 밸런싱



#### 허브 , 스위치 , 라우터 차이

> 허브 : 여러 개의 포트가 있고 그 중 한 포트로 들어오는 패킷을 그 포트를 제외한 모든 포트로 패킷을 보내주는 역할
>
> 스위치(data link 계층) :  로컬망에 연결된 장비들의 ip와 MAC주소를 매핑 시켜 테이블을 가지고 있다가 목적지에 맞게 보내주는 것
>
> 라우터(network 계층) : 라우터는 스위치의 기능에 추가해서 네트워크 상의 가장 가까운 곳에 위치한 다른 라우터 주소를 가지고 있어 이 라우터와 통신이 가능합니다.  이와 같이 로컬망을 벗어 나게 되며 이들의 집합을 인터넷 이라 합니다.

#### 클러스팅

여러 개의 컴퓨터를 연결한 병렬 시스템을 마치 하나의 컴퓨터 처럼 사용하는 것을 클러스터 라고 합니다.

특정 장비에 문제가 발생하였을 때,  서비스에 영향이 미치지 않도록 제어가 가능합니다



#### 도메인(domain)이란?

> ip는 사람이 이해하고 기억하기 어렵기 때문에 이를 위해서 각 ip에 이름을 부여할 수 있게 했는데, 이것을 도메인이라고 합니다

*ip이란?*

인터넷에 연결되어 있는 장치들은 각각의 장치를 식별할 수 있는 주소를 가지고 있는데 이를 ip라고 한다



#### IP Address와 MAC Address

> IP 주소는 논리적 주소로 상대 호스트가 내 pc를 찾기 위해서 필요한 주소로 라우팅시 필요한 주소며
>
> MAC주소는 물리적 주소로 컴퓨터간 서로 통신을 하기 위해서 필요한 주소로 내 pc와 같은 MAC주소는 없습니다
>
> 같이 쓰는 이유는 만약 MAC주소만 사용한다면 모든 라우터들은 모든 서버들의 MAC주소를 다 가지고 있어야 하며, 



#### ARP 와 RARP

> IP주소를 통해 MAC주소를 







