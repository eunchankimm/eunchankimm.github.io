---
layout: post
title: "Nodejs & JavaScript 정리"
category: Nodejs & JavaScript
tag: [Nodejs, JavaScript]
---

# Node.js & JavaScript 정리

### - Node.js 란

구글의 웹브라우저인 크롬의 ==JavaScript V8 엔진에 기반해 만들어진 JavaScript 런타임 환경==이다.
Node.js는 ==이벤트 기반, 논 블로킹 I/O 모델을 사용한것이 특징==이다. (**운영체제 관점에서 블로킹과 논 블로킹의 차이점을 설명할 수 있어야 한다.**)



### - Node.js 의 특징

==이벤트 기반, 비동기 I/O 처리== : Node.js 라이브러리의 모든 API는 비동기식이다.(동기식도 사용 가능) 즉, I/O 요청을 하고도 CPU의 제어권이 다른 프로세스(스레드)로 넘어가지 않고 계속해서 CPU 연산을 이어갈 수 있다는 것이다. 그렇다면 I/O 요청이 완료되어야 하는 코드는 어떻게 실행될까? 이는 이벤트 루프를 활용한다.

> #### 이벤트 루프와 동시성
>
> V8과 같은 자바스크립트 엔진은 단일 호출 스택(Call Stack)을 사용하며, 요청이 들어올 때마다 해당 요청을 순차적으로 호출 스택에 담아 처리할 뿐이다. ==비동기 요청과 동시성에 대한 처리는 이 자바스크립트 엔진을 구동하는 **호스트 환경, 즉 브라우저나 Node.js가 담당**한다.==
>
> ==실제로 비동기 호출인 `setTimeout` 은 자바스크립트 엔진이 아닌 브라우저(Web ApI) 영역에 따로 정의되어 있다. 또한 `이벤트 루프`와 `태스트 큐`와 같은 장치도 자바스크립트 엔진 외부에 구현되어 있다.==
>
> ==Node.js는 비동기 IO를 지원하기 위해 **libuv** 라이브러리를 사용하며, 이 libuv가 이벤트 루프를 제공한다. 자바스크립트 엔진은 비동기 작업을 위해 Nodejs의 API를 호출하며, 이때 넘겨진 콜백은 libuv의 이벤트 루프를 통해 스케쥴되고 실행된다.==
>
> 자바스크립트가 '단일 스레드' 기반의 언어라는 말은 '자바스크립트 엔진이 단일 호출 스택을 사용한다'는 관점에서만 사실이다. 실제 자바스크립트가 구동되는 환경(브라우저, Node.js 등)에서는 주로 여러 개의 스레드가 사용되며, 이러한 구동 환경이 단일 호출 스택을 사용하는 자바스크립트 엔진과 상호 연동하기 위해 사용하는 장치가 바로 '이벤트 루프'이다.
>
> ![](https://ws2.sinaimg.cn/large/006tKfTcgy1fktimczb7kj30go06laad.jpg)
>
> 
>
> 자세한 내용 참고 : http://meetup.toast.com/posts/89



### - Node.js 의 장점

1. ==단일 스레드 기반의 비동기 I/O 처리에 의한 매우 빠른 고성능 서버==
   -> CPU가 I/O 응답을 기다리는 시간이 필요 없고, 대부분의 연산 작업에 사용되기 때문에 높은 효용성을 가질 수 있다.
2. 자바스크립트를 이용한 생산성 향상
   -> ==멀티 스레드가 아니기 때문에 프로그래밍이 단순하다. (자원의 공유 등.. 멀티 스레드 사용시 문제가 될 요소를 고려하지 않아도 된다.)==



### - Browsers Support

2017년 1월, 대부분의 브라우저는 ES6를 지원하고 있지만 100%는 아니다. 그리고 Node.js의 경우 v4부터 지원을 시작하였다.

모던 브라우저의 ES6 지원은 97%로 거의 100%에 육박하지만 IE 지원을 고려한다면 **babel**과 같은 Transpiler를 사용하여야 한다.







